{"version":3,"sources":["webpack:///webpack/bootstrap c75b2689b4ad9a6b4e46","webpack:///./src/frame.js","webpack:///./src/tape.js","webpack:///./src/turmite.js","webpack:///./src/turing-machine.js","webpack:///./src/util.js","webpack:///./src/specifier.js"],"names":[],"mappings":"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","file":"frame.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c75b2689b4ad9a6b4e46\n **/","import { Tape2D } from './tape.js'\nimport Turmite from './turmite.js'\n\n// Generate frame for provided species\nonmessage = function (e) {\n\t// if (e.data === '')\n\tlet species = e.data\n\tconsole.log(`Generating frame at step ${species.frame} for species ${species.name}`)\n\n\tlet tape = new Tape2D(128, 128)\n\tlet turmite = new Turmite(64, 64, species.specifier)\n\tturmite.tape = tape\n\n\tfor (let i = 0; i <= species.frame; i++) turmite.step()\n\n\tpostMessage(tape)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/frame.js\n **/","\nexport class Tape {\n\tconstructor(len) {\n\t\tthis.length = len\n\t\tthis.data = new Int8Array(len)\n\t}\n\n\tread(i) {\n\t\treturn this.data[i]\n\t}\n\n\twrite(i, v) {\n\t\tthis.data[i] = v\n\t}\n}\n\nexport class Tape2D extends Tape {\n\tconstructor(w, h) {\n\t\tsuper(w * h)\n\t\tthis.width = w\n\t\tthis.height = h\n\n\t\tfor (let i = 0, n = this.width * this.height; i < n; i++) {\n\t\t\tthis.data[i] = 0\n\t\t}\n\t}\n\n\tread(x, y) {\n\t\treturn this.data[y * this.width + x]\n\t}\n\n\twrite(x, y, v) {\n\t\tthis.data[y * this.width + x] = v\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tape.js\n **/","import TuringMachine from './turing-machine.js'\nimport { mod } from './util.js'\nimport Specifier from './specifier.js'\n\nlet Dir = { N: 0, E: 1, S: 2, W: 3 }\nlet Turn = { N: 1, R: 2, U: 4, L: 8 }\n\nexport default class Turmite extends TuringMachine {\n\tconstructor(x, y, spec) {\n\t\tsuper()\n\t\tthis.x = x\n\t\tthis.y = y\n\t\t// Directions: 0 = North, 1 = East, 2 = South, 3 = West\n\t\t// Turns: 1 = forward, 2 = right, 4 = back, 8 = left\n\t\tthis.dir = 0\n\t\t// Transition table: rows correspond to internal states,\n\t\t// columns correspond to external states\n\t\tthis.transitions = null\n\t\tthis.setSpecies(spec)\n\t}\n\n\tsetSpecies(spec) {\n\t\tthis._specifier = spec\n\t\tthis.transitions = Specifier.parse(this._specifier)\n\t}\n\n\tgetTransition() {\n\t\tlet s = this.state\n\t\tlet c = this.tape.read(this.x, this.y)\n\t\treturn this.transitions[s][c]\n\t}\n\n\tstep() {\n\t\tlet t = this.getTransition()\n\n\t\t// Turn\n\t\tswitch (t.turn) {\n\t\t\tcase Turn.N: this.dir = mod(this.dir + 0, 4); break\n\t\t\tcase Turn.R: this.dir = mod(this.dir + 1, 4); break\n\t\t\tcase Turn.U: this.dir = mod(this.dir + 2, 4); break\n\t\t\tcase Turn.L: this.dir = mod(this.dir + 3, 4); break\n\t\t}\n\n\t\t// Write\n\t\tthis.tape.write(this.x, this.y, t.write)\n\t\t\n\t\t// Move\n\t\tswitch (this.dir) {\n\t\t\tcase Dir.N: this.y = mod(this.y - 1, this.tape.height); break\n\t\t\tcase Dir.E: this.x = mod(this.x + 1, this.tape.width); break\n\t\t\tcase Dir.S: this.y = mod(this.y + 1, this.tape.height); break\n\t\t\tcase Dir.W: this.x = mod(this.x - 1, this.tape.width); break\n\t\t}\n\n\t\t// Update state\n\t\tthis.state = t.next\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/turmite.js\n **/","\nexport default class TuringMachine {\n\tconstructor() {\n\t\tthis.position = 0\n\t\tthis.state = 0\n\t\tthis.tape = null\n\t\tthis.transitions = [\n\t\t\t[{ next: 1 }, { next: 0 }],\n\t\t\t[{ next: 0 }, { next: 1 }]\n\t\t]\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/turing-machine.js\n **/","\nexport function mod(a, n) {\n\treturn a - n * Math.floor(a / n)\n}\n\nexport function lerp(a, b, t) {\n\treturn t * (b - a) + a\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","export default class Specifier {\n\tstatic parse(spec) {\n\t\tlet tmp = spec.replace(/\\s/g, '')\n\t\tlet stack = []\n\t\tlet cur = null\n\t\tlet prev = null\n\t\tlet j = 0\n\n\t\tfor (let i = 0; i < tmp.length; i++) {\n\t\t\tlet tok = tmp.charAt(i)\n\t\t\tswitch (tok) {\n\t\t\t\tcase '{':\n\t\t\t\t\tlet l = stack.push(cur)\n\t\t\t\t\tif (l < 3) cur = []\n\t\t\t\t\telse cur = {}\n\t\t\t\t\tj = 0\n\t\t\t\t\tbreak\n\t\t\t\tcase '}':\n\t\t\t\t\tprev = cur\n\t\t\t\t\tcur = stack.pop()\n\t\t\t\t\tif (cur === null) return prev\n\t\t\t\t\tcur.push(prev)\n\t\t\t\t\tbreak\n\t\t\t\tcase '0':\n\t\t\t\tcase '1':\n\t\t\t\tcase '2':\n\t\t\t\tcase '3':\n\t\t\t\tcase '4':\n\t\t\t\tcase '5':\n\t\t\t\tcase '6':\n\t\t\t\tcase '7':\n\t\t\t\tcase '8':\n\t\t\t\tcase '9':\n\t\t\t\t\tif (j === 0) cur.write = parseInt(tok)\n\t\t\t\t\telse if (j === 1) cur.turn = parseInt(tok)\n\t\t\t\t\telse if (j === 2) cur.next = parseInt(tok)\n\t\t\t\t\t++j\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\tstatic stringify(transitions) {\n\t\tlet specifier = '{'\n\n\t\tfor (let r = 0; r < transitions.length; r++) {\n\t\t\tlet row = transitions[r]\n\t\t\tspecifier += (r === 0) ? '{' : ', {'\n\t\t\t\n\t\t\tfor (let c = 0; c < row.length; c++) {\n\t\t\t\tlet cell = row[c]\n\t\t\t\tspecifier += (c === 0) ? '{' : ', {'\n\t\t\t\tspecifier += cell.write + ', '\n\t\t\t\tspecifier += cell.turn + ', '\n\t\t\t\tspecifier += cell.next + '}'\n\t\t\t}\n\t\t\tspecifier += '}'\n\t\t}\n\t\tspecifier += '}'\n\n\t\treturn specifier\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/specifier.js\n **/"],"sourceRoot":""}